From: "Barak A. Pearlmutter" <barak+git@pearlmutter.net>
Date: Mon, 10 Aug 2020 11:23:11 +0100
Subject: fortran

---
 expand-region.el      |  2 ++
 f90-expansions.el     | 47 +++++++++++++++++++++++++++++++++++++++++++++++
 fortran-expansions.el | 47 +++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 96 insertions(+)
 create mode 100644 f90-expansions.el
 create mode 100644 fortran-expansions.el

diff --git a/expand-region.el b/expand-region.el
index ebaaca2..3d8dfa7 100644
--- a/expand-region.el
+++ b/expand-region.el
@@ -165,6 +165,8 @@ before calling `er/expand-region' for the first time."
 (eval-after-load 'css-mode       '(require 'css-mode-expansions))
 (eval-after-load 'erlang-mode    '(require 'erlang-mode-expansions))
 (eval-after-load 'feature-mode   '(require 'feature-mode-expansions))
+(eval-after-load 'fortan-mode    '(require 'fortran-mode-expansions))
+(eval-after-load 'f90-mode       '(require 'f90-mode-expansions))
 (eval-after-load 'sgml-mode      '(require 'html-mode-expansions)) ;; html-mode is defined in sgml-mode.el
 (eval-after-load 'rhtml-mode     '(require 'html-mode-expansions))
 (eval-after-load 'nxhtml-mode    '(require 'html-mode-expansions))
diff --git a/f90-expansions.el b/f90-expansions.el
new file mode 100644
index 0000000..b3f3680
--- /dev/null
+++ b/f90-expansions.el
@@ -0,0 +1,47 @@
+;;; f90-expansions.el --- f90-mode expansions for expand-region
+
+;; Copyright (C) 2015 Johan S Hysing
+
+;; Author: Johan S Hysing
+;; Keywords: marking region
+
+;; This program is free software; you can redistribute it and/or modify
+;; it under the terms of the GNU General Public License as published by
+;; the Free Software Foundation, either version 3 of the License, or
+;; (at your option) any later version.
+
+;; This program is distributed in the hope that it will be useful,
+;; but WITHOUT ANY WARRANTY; without even the implied warranty of
+;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+;; GNU General Public License for more details.
+
+;; You should have received a copy of the GNU General Public License
+;; along with this program.  If not, see <http://www.gnu.org/licenses/>.
+
+;;; Commentary:
+
+;; Feel free to contribute any other expansions for Fortran 90 at
+;;
+;;     https://github.com/magnars/expand-region.el
+
+;;; Code:
+
+(require 'expand-region-core)
+
+(defun er/f90-mark-block ()
+  "Mark the current f90 block."
+  (interactive)
+  (f90-beginning-of-block)
+  (set-mark (point))
+  (f90-end-of-block)
+  (exchange-point-and-mark))
+
+(defun er/add-f90-expansions ()
+  "Adds f90-specific expansions for buffers in f90-mode"
+    (set (make-local-variable 'er/try-expand-list)
+         (append er/try-expand-list '(er/f90-mark-block))))
+
+(er/enable-mode-expansions 'f90-mode 'er/add-f90-expansions)
+
+(provide 'f90-expansions)
+;;; f90-expansions.el ends here
diff --git a/fortran-expansions.el b/fortran-expansions.el
new file mode 100644
index 0000000..cd82858
--- /dev/null
+++ b/fortran-expansions.el
@@ -0,0 +1,47 @@
+;;; fortran-expansions.el --- fortran-mode expansions for expand-region
+
+;; Copyright (C) 2015 Johan S Hysing
+
+;; Author: Johan S Hysing
+;; Keywords: marking region
+
+;; This program is free software; you can redistribute it and/or modify
+;; it under the terms of the GNU General Public License as published by
+;; the Free Software Foundation, either version 3 of the License, or
+;; (at your option) any later version.
+
+;; This program is distributed in the hope that it will be useful,
+;; but WITHOUT ANY WARRANTY; without even the implied warranty of
+;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+;; GNU General Public License for more details.
+
+;; You should have received a copy of the GNU General Public License
+;; along with this program.  If not, see <http://www.gnu.org/licenses/>.
+
+;;; Commentary:
+
+;; Feel free to contribute any other expansions for Fortran at
+;;
+;;     https://github.com/magnars/expand-region.el
+
+;;; Code:
+
+(require 'expand-region-core)
+
+(defun er/fortran-mark-block ()
+  "Mark the current fortran block."
+  (interactive)
+  (fortran-beginning-of-block)
+  (set-mark (point))
+  (fortran-end-of-block)
+  (exchange-point-and-mark))
+
+(defun er/add-fortran-expansions ()
+  "Adds fortran-specific expansions for buffers in fortran-mode"
+    (set (make-local-variable 'er/try-expand-list)
+         (append er/try-expand-list '(er/fortran-mark-block))))
+
+(er/enable-mode-expansions 'fortran-mode 'er/add-fortran-expansions)
+
+(provide 'fortran-expansions)
+;;; fortran-expansions.el ends here
